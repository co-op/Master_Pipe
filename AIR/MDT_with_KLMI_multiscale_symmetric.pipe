<?xml version="1.0" encoding="UTF-8"?>
<pipeline version=".2">
        <connections>
                <connection source="HardMean_1.HardMean" sink="KL_MI3-stepmultiscale_1.Targetimage" />
                <connection source="ReslicedVolumes_1.Output" sink="KL_MI3-stepmultiscale_1.Templateimage" />
                <connection source="ReslicedVolumes_1.Output" sink="KL_MI3-stepmultiscale_1.Templateimage_2" />
                <connection source="ReslicedVolumes_1.Output" sink="KL_MI3-stepmultiscale_1.Templateimage_3" />
                <connection source="HardMean_1.HardMean" sink="KL_MI3-stepmultiscale_1.Targetimage_2" />
                <connection source="HardMean_1.HardMean" sink="KL_MI3-stepmultiscale_1.Targetimage_3" />
                <connection source="ReslicedVolumes_1.Output" sink="KL_MI3-stepmultiscale_1.Templateimage_4" />
                <connection source="KL_MI_register_1.displacementfieldimage" sink="KL_MI_deform_1.displacementimage" />
                <connection source="KL_MI_register_2.displacementfieldimage" sink="InterpAveragepairsof3_1.InputstandardFiles" />
                <connection source="KL_MI_deformfield_1.DeformedTemplateimage" sink="InterpAveragepairsof3_1.Inputinterpolatedfiles" />
                <connection source="InterpAveragepairsof3_1.HardMean" sink="KL_MI_deform_2.displacementimage" />
                <connection source="KL_MI_register_2.displacementfieldimage" sink="KL_MI_deformfield_1.displacementimage" />
                <connection source="KL_MI_register_1.displacementfieldimage" sink="KL_MI_deformfield_1.Templateimage" />
                <connection source="KL_MI_deform_1.DeformedTemplateimage" sink="KL_MI_register_2.Templateimage" />
                <connection source="KL_MI_deform_2.DeformedTemplateimage" sink="KL_MI_register_3.Templateimage" />
                <connection source="KL_MI_register_3.displacementfieldimage" sink="KL_MI_deformfield_2.displacementimage" />
                <connection source="InterpAveragepairsof3_1.HardMean" sink="KL_MI_deformfield_2.Templateimage" />
                <connection source="InterpAveragepairsof3_2.HardMean" sink="KL_MI_deform_3.displacementimage" />
                <connection source="KL_MI_register_3.displacementfieldimage" sink="InterpAveragepairsof3_2.InputstandardFiles" />
                <connection source="KL_MI_deformfield_2.DeformedTemplateimage" sink="InterpAveragepairsof3_2.Inputinterpolatedfiles" />
                <connection source="KL_MI3-stepmultiscale_1.DeformationField" sink="KL_MI_Jacobian_1.displacementimage" />
                <connection source="ReslicedVolumes_1.Output" sink="KL_MI_Jacobian_1.originalimage" />
                <connection source="HardMean_3.Output" sink="KL_MI3-stepmultiscale_2.Targetimage" />
                <connection source="ReslicedVolumes_1.Output" sink="KL_MI3-stepmultiscale_2.Templateimage" />
                <connection source="ReslicedVolumes_1.Output" sink="KL_MI3-stepmultiscale_2.Templateimage_2" />
                <connection source="ReslicedVolumes_1.Output" sink="KL_MI3-stepmultiscale_2.Templateimage_3" />
                <connection source="HardMean_3.Output" sink="KL_MI3-stepmultiscale_2.Targetimage_2" />
                <connection source="HardMean_3.Output" sink="KL_MI3-stepmultiscale_2.Targetimage_3" />
                <connection source="ReslicedVolumes_1.Output" sink="KL_MI3-stepmultiscale_2.Templateimage_4" />
                <connection source="KL_MI_register_4.displacementfieldimage" sink="KL_MI_deform_4.displacementimage" />
                <connection source="KL_MI_register_5.displacementfieldimage" sink="InterpAveragepairsof3_3.InputstandardFiles" />
                <connection source="KL_MI_deformfield_3.DeformedTemplateimage" sink="InterpAveragepairsof3_3.Inputinterpolatedfiles" />
                <connection source="InterpAveragepairsof3_3.HardMean" sink="KL_MI_deform_5.displacementimage" />
                <connection source="KL_MI_register_5.displacementfieldimage" sink="KL_MI_deformfield_3.displacementimage" />
                <connection source="KL_MI_register_4.displacementfieldimage" sink="KL_MI_deformfield_3.Templateimage" />
                <connection source="KL_MI_deform_4.DeformedTemplateimage" sink="KL_MI_register_5.Templateimage" />
                <connection source="KL_MI_deform_5.DeformedTemplateimage" sink="KL_MI_register_6.Templateimage" />
                <connection source="KL_MI_register_6.displacementfieldimage" sink="KL_MI_deformfield_4.displacementimage" />
                <connection source="InterpAveragepairsof3_3.HardMean" sink="KL_MI_deformfield_4.Templateimage" />
                <connection source="InterpAveragepairsof3_4.HardMean" sink="KL_MI_deform_6.displacementimage" />
                <connection source="KL_MI_register_6.displacementfieldimage" sink="InterpAveragepairsof3_4.InputstandardFiles" />
                <connection source="KL_MI_deformfield_4.DeformedTemplateimage" sink="InterpAveragepairsof3_4.Inputinterpolatedfiles" />
                <connection source="CompositeGeometricAveraging_1.currenttarget" sink="HardMean_1.InputFiles" />
                <connection source="ReslicedVolumes_1.Output" sink="CompositeGeometricAveraging_1.Originaltarget" />
                <connection source="KL_MI3-stepmultiscale_2.DeformationField" sink="CompositeGeometricAveraging_1.Newfileds" />
                <connection source="KL_MI3-stepmultiscale_2.DeformationField" sink="CompositeGeometricAveraging_1.previousinversefield" />
                <connection source="HardMean_2.HardMean" sink="KL_MI_invert_1.displacementimage" />
                <connection source="composevectorfields_1.HardMean" sink="KL_MI_deform_7.displacementimage" />
                <connection source="KL_MI_invert_1.inversefieldimage" sink="composevectorfields_1.Filed2" />
                <connection source="KL_MI_invert_1.inversefieldimage" sink="composevectorfields_1.Field2" />
                <connection source="KL_MI_deformfield_5.DeformedTemplateimage" sink="InterpAveragepairsof3_5.Inputinterpolatedfiles" />
                <connection source="HardMean_1.HardMean" sink="DirectoryDump_1.Input" />
                <connection source="KL_MI3-stepmultiscale_1.DeformedTemplateimage" sink="DirectoryDump_1.Input" />
                <connection source="KL_MI_Jacobian_1.jacobian" sink="DirectoryDump_1.Input" />
        </connections>
        <icons>
                <icon id="0" value="/9j/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAx&#xA;NDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy&#xA;MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAAUCAA4ADgEASIAAhEBAxEBBCIA/8QAHwAAAQUB&#xA;AQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEG&#xA;E1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVW&#xA;V1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLD&#xA;xMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAA&#xA;AAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKR&#xA;obHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hp&#xA;anN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU&#xA;1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADgQBAAIRAxEEAAA/APn+rFlZzaheRWsABkkOBk4A&#xA;7kn8Kr12nw8so5767uHBbygiFc4G0klv0T+dVBXlYmTsrnz/AFa0zTrrV9TttOsojLc3MgjjQdyf&#xA;5Cqtev8A7PekJd+LdQ1SRVYWNsFTIyVeQ4BHp8quPxrrPC3hqy02zMkflS3EihJJ3XcF4LEf7PTt&#xA;n866BtLXAzHmLIXBUrn64HP1xmppL200oiJIQo2n5EPC5O7P17fSrcutWdgXF2jxtGozGRnf34I+&#xA;gP4/hXUrJGN2em+A/hNovhOyWa+hh1HVnX95PKm5E6HaingYx97GT7dK7ySytZoHgltoXhcYaNow&#xA;Vb6joanorznxn4VTzXltdK8jy03PcRttUnPdex5Ge/fpXnE9vLaztDPG0ci9VYV7nrur6X/Z8lhd&#xA;SNFHJGpMULbmYblIAPQZ29+wryjxZGi3li6AAyWasxxycO6jPqcKB+FYVI9TSD6Hl3jT4K6BrWnz&#xA;zaHax6bqgBaPyyRFIf7rL0UH1AGPevme6tZ7G7mtLqJoriFzHJG4wVYHBBr7pr5c+O9hDZfEhpYU&#xA;2m7tI55PdssmfyQVz9FFFZGh5nRRRRXe/DUwyHVbYt/pDLFLGvPIUsDz0HLr+dcFXQeCb37D4usG&#xA;YyeXM/kOqH72/wCUZ9RuKn8K0ou01czqq8GFe0fs7anHBr+s6Y3D3VukyH/rmxBH/kT9K8Xrpfh9&#xA;qj6P8QNDu0YqPtaROc/wOdjfoxrvpb6a63TS5JJ69iOORUWpyyGKN1VWUAY3ZK49wO9bV3piLp0h&#xA;hjKKkrIATkgAA/1rA8xvJMWec4FdUktjli29T7KooorJu4UECXiiJg0hXZsKrgdCQDVDxzcho9Ht&#xA;BEiiK2aTzEPyvucjIHYfJ+Oa1ZYkgSSF/MdcZ+TBBb0PoMd/0rnfGN0k9/YQKrB7Wxiik3Dqxy/H&#xA;thx+RrnqNWOimgr5q/aDu3l8cWVq0aqkFipVsctuds8+nH8/WvpWvlX43atHqfxKuo4h8tjDHalv&#xA;7xGWP5FyPwrnaKKKxNjzqiiiir+h+Z/wkGm+UoaT7VFsUttBO8YGcHH1waoV1vw60R9W8V29y25L&#xA;TT2W6mlA4BU5Rc9MswHHoG9KqN+ZWJk0k7hUlvJJFcxSRZ8xHDJj1B4qOus+HPhe68U+M7C3hhLW&#xA;0EqT3cmPlSNSCcn1OMD6/WvTdRvWs7+ZMbo2PzIeh/8Ar1gyrbXFx/o7AOT9xjg5/rV/WZVkuZGB&#xA;zuNcpeKN5AOa7au9jjp7XPsOiiiuhtdDltDNd6sjWmlKC09w7MoRfoDyT0A7kgCvKdTvn1PU7m9c&#xA;FTNIWCFi2xeygnsBgD2Fd/4gSe5+GJ8qMtFbahHJKR/CNrKD+bqPxrzWuKTdzrgjM8Qa9YeGtFuN&#xA;T1GdIoYUJAZgDI2OFX1J9K+LNQvp9U1K6v7pt1xcytNI3qzHJ/nX0N+0PbzSeEdMmSNmiivf3jAZ&#xA;C5Q4zXzhRRRRUlhRRRXR+GtO8POFv/EOqiGBJSq2MSO0k+ACclR8i8gZ6nDAYxmupb4jaRBYxWOn&#xA;2N1bWkQxHCqKAPf73J9SeSaKK0hUcNjOUFPc19BtdDmuGl13UZ7a1jIJhtYTJNN7KThV+pP4GvZN&#xA;B+Mvgbwvpy6do3h7UoLZTknbHudv7zHfkn6miiqQ8W6ZcIXeSWNs42yISfrxmqJ1WyuHYrcpx13f&#xA;L/Oiiq9rKT1J9kktDcg/aD8JSMBJZavFnu0MZA/J8/pXQWHxf8DX8gjTXEhcjpcRPGP++iMfrRRX&#xA;T+GdeFiHglVJ7SddrxsAyOCMHI6EEVa1X4d6F4jLXWiTppVyykmEqWgdiSfXMfXHGQAOBRRTcVJk&#xA;XaXMjcbXfC2t2Uls2q6Re20w2PGbiORXHoRmvKPFHwM0q/aS68J6rDA5yRZzyb4yfRXGSv4g/UUU&#xA;V534i8Ha54WcHU7PbA7lI7iNg8chGehHTIGQDg47UUUVzQd1dnQndHjniDwprfha6EGsWEluSfkk&#xA;4aN/91hkH6daKKK//9k=" />
        </icons>
        <moduleGroup id="MDTwithKLMIMultiscaleSymmetric_1" name="MDT with KLMI (Multiscale Symmetric)" package="Minimum Distance Template" posX="0" posY="0" sourceCode="">
                <authors>
                        <author fullName="Boris Gutman" email="" website="" />
                        <author fullName="Claus Svarer" email="" website="" />
                </authors>
                <uri>http://www.loni.ucla.edu/twiki/bin/view/CCB/SIGPNS_Summer2009_BG_CS_2</uri>
                <metadata>
                        <data key="__creationDateKey" value="Wed Feb 03 09:35:35 PST 2010" />
                </metadata>
                <moduleGroup id="KL_MI3-stepmultiscale_1" name="KL_MI 3-step multiscale" package="Inverse-consistent" icon="0" posX="308" posY="838" sourceCode="">
                        <metadata>
                                <data key="__creationDateKey" value="Mon Nov 02 16:17:11 PST 2009" />
                        </metadata>
                        <input link="KL_MI_register_1.Targetimage" id="KL_MI3-stepmultiscale_1.Targetimage" name="Target image" order="2" />
                        <input link="KL_MI_register_1.Templateimage" id="KL_MI3-stepmultiscale_1.Templateimage" name="Template image" order="3" />
                        <input link="KL_MI_deform_1.Templateimage" id="KL_MI3-stepmultiscale_1.Templateimage_2" name="Template image" order="5" />
                        <input link="KL_MI_deform_2.Templateimage" id="KL_MI3-stepmultiscale_1.Templateimage_3" name="Template image" order="6" />
                        <input link="KL_MI_register_2.Targetimage" id="KL_MI3-stepmultiscale_1.Targetimage_2" name="Target image" order="0" />
                        <input link="KL_MI_register_3.Targetimage" id="KL_MI3-stepmultiscale_1.Targetimage_3" name="Target image" order="1" />
                        <input link="KL_MI_deform_3.Templateimage" id="KL_MI3-stepmultiscale_1.Templateimage_4" name="Template image" order="7" />
                        <output link="KL_MI_deform_3.DeformedTemplateimage" id="KL_MI3-stepmultiscale_1.DeformedTemplateimage" name="Deformed Template image" order="8" />
                        <output description="Name of the average output file(s)" link="InterpAveragepairsof3_2.HardMean" id="KL_MI3-stepmultiscale_1.DeformationField" name="Deformation Field" order="4" />
                        <module id="KL_MI_register_1" name="KL_MI_register" package="Minimum Distance Template" version="1.0" icon="0" posX="18" posY="20" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_register_1.TimeSteplimit" name="TimeStep limit" description="timestep limit (default = 500)" required="false" enabled="true" order="0" prefix="-t" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>300</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.griddim1" name="grid dim 1" description="pixel number along x direction of the common grid.  If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="8" prefix="-i" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>32</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.griddim2" name="grid dim 2" description="pixel number along y direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="9" prefix="-j" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>32</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.griddim3" name="grid dim 3" description="pixel number along z direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="10" prefix="-k" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>32</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.x0-padding" name="x 0-padding" description="number of 0-padding pixels along x direction of the common grid (default=5)" required="false" enabled="false" order="11" prefix="-x" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.y0padding" name="y 0 padding" description="number of 0-padding pixels along y direction of the common grid (default=5)" required="false" enabled="false" order="12" prefix="-y" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.z0padding" name="z 0 padding" description="number of 0-padding pixels along z direction of the common grid (default=5)" required="false" enabled="false" order="13" prefix="-z" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.StandardDeviation" name="Standard Deviation" description="standard deviation of the gaussian kernel (default = 6.0)" required="false" enabled="true" order="14" prefix="-s" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>9.0</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.fidelityterm" name="fidelity term " description="fidelity term (1 = L2, 2 = Mutual Information, default = 2)&#xA;3 -- MI with inverse consistency, takes ~twice as long" required="false" enabled="true" order="15" prefix="-f" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>3</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.labmda" name="labmda" description="labmda -- weight of the KL distance term (default = 0.5)" required="false" enabled="false" order="16" prefix="-l" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>500</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.Energythreshold" name="Energy threshold" description="threshold total energy to terminate (default = 1e-4)" required="false" enabled="false" order="17" prefix="-e " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>1e-5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.Intermediateoutputpath" name="Intermediate output path" description="absolute path of directory where all intermediate information is printed&#xA;Nothing is printed if this option is not used" required="false" enabled="false" order="19" prefix="-d" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_1.displacementfieldimage" name="displacement field image " required="true" enabled="true" order="22">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_1.Targetimage" name="Target image" required="true" enabled="true" order="23">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_1.Templateimage" name="Template image" required="true" enabled="true" order="24">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_register_1.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="25">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_1.continuetomax" name="continue to max" description="this flag makes the algorithm run the maximum number of iterations regardless of energy" required="false" enabled="false" order="18" prefix="-c" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="0">
                                                <fileTypes>
                                                        <filetype name="File" extension="" description="Any type of data file" />
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_1.Gaussiansmoothing" name="Gaussian smoothing" description="gaussian smoothing of all data with specified standard deviation. If salt and pepper noise is prevalent in your images, MI will likely fail without this. Good std - 0.4" required="false" enabled="false" order="1" prefix="-g" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.5</value>
                                        </values>
                                </input>
                                <output id="KL_MI_register_1.Usedatlas" name="Used atlas" description="Analyze file containing the version of the atlas that is on the same grid as the native displacement fields. NOTE: if the regrid displacements option is used, this may no longer be on the same grid -- the field itself is put on the original atlas or template grid and padded with zeros if needed" required="false" enabled="false" order="6" prefix="-a " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_1.regriddisplacementsflag" name="regrid displacements flag" description="1 -- field is printed on the template(data) grid&#xA;2 -- field is printed on the atlas grid &#xA;&#xA;zero padding is used when needed" required="false" enabled="false" order="7" prefix="-r " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                        </format>
                                        <values>
                                                <value>1</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.triangleu" name="triangle u" description="Maximum displacement for determining variable time step. Default = 0.1" required="false" enabled="true" order="2" prefix="-u" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.MutualInformationgaussianstd" name="Mutual Information gaussian std" description="default - 6.0" required="false" enabled="false" order="5" prefix="-m" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>4.5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.MedianFilter" name="Median Filter" description="Preprocess with 3x3x3 median filter. &#xA;1. data (template)&#xA;2. atlas (target)&#xA;3. both" required="false" enabled="false" order="3" prefix="-p" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>2</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.MIbinsize" name="MI bin size" description="Power of two for the number of MI bins. Default = 7." required="false" enabled="false" order="4" prefix="-b " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>4</enumeration>
                                                <enumeration>5</enumeration>
                                                <enumeration>6</enumeration>
                                                <enumeration>7</enumeration>
                                                <enumeration>8</enumeration>
                                        </format>
                                        <values>
                                                <value>8</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_1.JacobianOutputPath" name="Jacobian Output Path" description="This is the directory where the forward Jacobian is printed every 100 iterations. The option will be ignored if Intermediate Output option is used, as in that case the Jacobian is printed every 50 iterations. " required="false" enabled="false" order="20" prefix="-D" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_1.FinalJacobian" name="Final Jacobian" description="final forward Jacobian" required="false" enabled="false" order="21" prefix="-J" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                        </module>
                        <module id="KL_MI_deform_1" name="KL_MI_deform" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="250" posY="163" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deform_1.displacementimage" name="displacement image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deform_1.Templateimage" name="Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deform_1.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="3">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_deform_1.flag" name="flag" required="true" enabled="true" order="0" prefix="-deform" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="String" cardinality="0" />
                                </input>
                        </module>
                        <module id="InterpAveragepairsof3_1" name="Interp Average pairs of 3" package="Minimum Distance Template" version="1.0" description="This program will average together a series of files." icon="0" posX="148" posY="562" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/Ana_Average">
                                <tag>averaging MRI</tag>
                                <metadata>
                                        <data key="__creationDateKey" value="Mon Sep 11 17:42:51 PDT 2006" />
                                </metadata>
                                <output id="InterpAveragepairsof3_1.HardMean" name="Hard  Mean" description="Name of the average output file(s)" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="InterpAveragepairsof3_1.InputstandardFiles" name="Input standard Files" description="Name of the files to be averaged" required="true" enabled="true" order="0" prefix="3" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="InterpAveragepairsof3_1.Inputinterpolatedfiles" name="Input interpolated files" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <executableAuthors>
                                        <author fullName="Roger P. Woods" email="" website="" />
                                </executableAuthors>
                        </module>
                        <module id="KL_MI_deform_2" name="KL_MI_deform" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="362" posY="695" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deform_2.displacementimage" name="displacement image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deform_2.Templateimage" name="Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deform_2.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="3">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_deform_2.flag" name="flag" required="true" enabled="true" order="0" prefix="-deform" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="String" cardinality="0" />
                                </input>
                        </module>
                        <module id="KL_MI_deformfield_1" name="KL_MI_deform field" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="255" posY="454" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/deform_field.sh">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deformfield_1.displacementimage" name="displacement image" required="true" enabled="true" order="0">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deformfield_1.Templateimage" name="Template image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deformfield_1.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                        </module>
                        <module id="KL_MI_register_2" name="KL_MI_register" package="Minimum Distance Template" version="1.0" icon="0" posX="0" posY="349" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_register_2.TimeSteplimit" name="TimeStep limit" description="timestep limit (default = 500)" required="false" enabled="true" order="0" prefix="-t" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>300</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.griddim1" name="grid dim 1" description="pixel number along x direction of the common grid.  If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="8" prefix="-i" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>64</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.griddim2" name="grid dim 2" description="pixel number along y direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="9" prefix="-j" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>64</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.griddim3" name="grid dim 3" description="pixel number along z direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="10" prefix="-k" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>64</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.x0-padding" name="x 0-padding" description="number of 0-padding pixels along x direction of the common grid (default=5)" required="false" enabled="false" order="11" prefix="-x" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.y0padding" name="y 0 padding" description="number of 0-padding pixels along y direction of the common grid (default=5)" required="false" enabled="false" order="12" prefix="-y" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.z0padding" name="z 0 padding" description="number of 0-padding pixels along z direction of the common grid (default=5)" required="false" enabled="false" order="13" prefix="-z" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.StandardDeviation" name="Standard Deviation" description="standard deviation of the gaussian kernel (default = 6.0)" required="false" enabled="true" order="14" prefix="-s" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>9.0</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.fidelityterm" name="fidelity term " description="fidelity term (1 = L2, 2 = Mutual Information, default = 2)&#xA;3 -- MI with inverse consistency, takes ~twice as long" required="false" enabled="true" order="15" prefix="-f" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>3</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.labmda" name="labmda" description="labmda -- weight of the KL distance term (default = 0.5)" required="false" enabled="false" order="16" prefix="-l" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>500</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.Energythreshold" name="Energy threshold" description="threshold total energy to terminate (default = 1e-4)" required="false" enabled="false" order="17" prefix="-e " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>1e-5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.Intermediateoutputpath" name="Intermediate output path" description="absolute path of directory where all intermediate information is printed&#xA;Nothing is printed if this option is not used" required="false" enabled="false" order="19" prefix="-d" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_2.displacementfieldimage" name="displacement field image " required="true" enabled="true" order="22">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_2.Targetimage" name="Target image" required="true" enabled="true" order="23">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_2.Templateimage" name="Template image" required="true" enabled="true" order="24">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_register_2.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="25">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_2.continuetomax" name="continue to max" description="this flag makes the algorithm run the maximum number of iterations regardless of energy" required="false" enabled="false" order="18" prefix="-c" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="0">
                                                <fileTypes>
                                                        <filetype name="File" extension="" description="Any type of data file" />
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_2.Gaussiansmoothing" name="Gaussian smoothing" description="gaussian smoothing of all data with specified standard deviation. If salt and pepper noise is prevalent in your images, MI will likely fail without this. Good std - 0.4" required="false" enabled="false" order="1" prefix="-g" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.5</value>
                                        </values>
                                </input>
                                <output id="KL_MI_register_2.Usedatlas" name="Used atlas" description="Analyze file containing the version of the atlas that is on the same grid as the native displacement fields. NOTE: if the regrid displacements option is used, this may no longer be on the same grid -- the field itself is put on the original atlas or template grid and padded with zeros if needed" required="false" enabled="false" order="6" prefix="-a " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_2.regriddisplacementsflag" name="regrid displacements flag" description="1 -- field is printed on the template(data) grid&#xA;2 -- field is printed on the atlas grid &#xA;&#xA;zero padding is used when needed" required="false" enabled="false" order="7" prefix="-r " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                        </format>
                                        <values>
                                                <value>1</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.triangleu" name="triangle u" description="Maximum displacement for determining variable time step. Default = 0.1" required="false" enabled="true" order="2" prefix="-u" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.MutualInformationgaussianstd" name="Mutual Information gaussian std" description="default - 6.0" required="false" enabled="false" order="5" prefix="-m" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>4.5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.MedianFilter" name="Median Filter" description="Preprocess with 3x3x3 median filter. &#xA;1. data (template)&#xA;2. atlas (target)&#xA;3. both" required="false" enabled="false" order="3" prefix="-p" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>2</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.MIbinsize" name="MI bin size" description="Power of two for the number of MI bins. Default = 7." required="false" enabled="false" order="4" prefix="-b " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>4</enumeration>
                                                <enumeration>5</enumeration>
                                                <enumeration>6</enumeration>
                                                <enumeration>7</enumeration>
                                                <enumeration>8</enumeration>
                                        </format>
                                        <values>
                                                <value>8</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_2.JacobianOutputPath" name="Jacobian Output Path" description="This is the directory where the forward Jacobian is printed every 100 iterations. The option will be ignored if Intermediate Output option is used, as in that case the Jacobian is printed every 50 iterations. " required="false" enabled="false" order="20" prefix="-D" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_2.FinalJacobian" name="Final Jacobian" description="final forward Jacobian" required="false" enabled="false" order="21" prefix="-J" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                        </module>
                        <module id="KL_MI_register_3" name="KL_MI_register" package="Minimum Distance Template" version="1.0" icon="0" posX="10" posY="846" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_register_3.TimeSteplimit" name="TimeStep limit" description="timestep limit (default = 500)" required="false" enabled="true" order="0" prefix="-t" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>300</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.griddim1" name="grid dim 1" description="pixel number along x direction of the common grid.  If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="8" prefix="-i" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>128</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.griddim2" name="grid dim 2" description="pixel number along y direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="9" prefix="-j" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>128</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.griddim3" name="grid dim 3" description="pixel number along z direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="10" prefix="-k" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>128</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.x0-padding" name="x 0-padding" description="number of 0-padding pixels along x direction of the common grid (default=5)" required="false" enabled="false" order="11" prefix="-x" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.y0padding" name="y 0 padding" description="number of 0-padding pixels along y direction of the common grid (default=5)" required="false" enabled="false" order="12" prefix="-y" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.z0padding" name="z 0 padding" description="number of 0-padding pixels along z direction of the common grid (default=5)" required="false" enabled="false" order="13" prefix="-z" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.StandardDeviation" name="Standard Deviation" description="standard deviation of the gaussian kernel (default = 6.0)" required="false" enabled="true" order="14" prefix="-s" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>7.0</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.fidelityterm" name="fidelity term " description="fidelity term (1 = L2, 2 = Mutual Information, default = 2)&#xA;3 -- MI with inverse consistency, takes ~twice as long" required="false" enabled="true" order="15" prefix="-f" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>3</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.labmda" name="labmda" description="labmda -- weight of the KL distance term (default = 0.5)" required="false" enabled="false" order="16" prefix="-l" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>500</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.Energythreshold" name="Energy threshold" description="threshold total energy to terminate (default = 1e-4)" required="false" enabled="false" order="17" prefix="-e " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>1e-5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.Intermediateoutputpath" name="Intermediate output path" description="absolute path of directory where all intermediate information is printed&#xA;Nothing is printed if this option is not used" required="false" enabled="false" order="19" prefix="-d" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_3.displacementfieldimage" name="displacement field image " required="true" enabled="true" order="22">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_3.Targetimage" name="Target image" required="true" enabled="true" order="23">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_3.Templateimage" name="Template image" required="true" enabled="true" order="24">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_register_3.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="25">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_3.continuetomax" name="continue to max" description="this flag makes the algorithm run the maximum number of iterations regardless of energy" required="false" enabled="false" order="18" prefix="-c" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="0">
                                                <fileTypes>
                                                        <filetype name="File" extension="" description="Any type of data file" />
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_3.Gaussiansmoothing" name="Gaussian smoothing" description="gaussian smoothing of all data with specified standard deviation. If salt and pepper noise is prevalent in your images, MI will likely fail without this. Good std - 0.4" required="false" enabled="false" order="1" prefix="-g" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.5</value>
                                        </values>
                                </input>
                                <output id="KL_MI_register_3.Usedatlas" name="Used atlas" description="Analyze file containing the version of the atlas that is on the same grid as the native displacement fields. NOTE: if the regrid displacements option is used, this may no longer be on the same grid -- the field itself is put on the original atlas or template grid and padded with zeros if needed" required="false" enabled="false" order="6" prefix="-a " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_3.regriddisplacementsflag" name="regrid displacements flag" description="1 -- field is printed on the template(data) grid&#xA;2 -- field is printed on the atlas grid &#xA;&#xA;zero padding is used when needed" required="false" enabled="false" order="7" prefix="-r " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                        </format>
                                        <values>
                                                <value>1</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.triangleu" name="triangle u" description="Maximum displacement for determining variable time step. Default = 0.1" required="false" enabled="false" order="2" prefix="-u" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.12</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.MutualInformationgaussianstd" name="Mutual Information gaussian std" description="default - 6.0" required="false" enabled="false" order="5" prefix="-m" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>4.5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.MedianFilter" name="Median Filter" description="Preprocess with 3x3x3 median filter. &#xA;1. data (template)&#xA;2. atlas (target)&#xA;3. both" required="false" enabled="false" order="3" prefix="-p" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>2</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.MIbinsize" name="MI bin size" description="Power of two for the number of MI bins. Default = 7." required="false" enabled="false" order="4" prefix="-b " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>4</enumeration>
                                                <enumeration>5</enumeration>
                                                <enumeration>6</enumeration>
                                                <enumeration>7</enumeration>
                                                <enumeration>8</enumeration>
                                        </format>
                                        <values>
                                                <value>8</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_3.JacobianOutputPath" name="Jacobian Output Path" description="This is the directory where the forward Jacobian is printed every 100 iterations. The option will be ignored if Intermediate Output option is used, as in that case the Jacobian is printed every 50 iterations. " required="false" enabled="false" order="20" prefix="-D" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_3.FinalJacobian" name="Final Jacobian" description="final forward Jacobian" required="false" enabled="false" order="21" prefix="-J" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                        </module>
                        <module id="KL_MI_deformfield_2" name="KL_MI_deform field" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="335" posY="949" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/deform_field.sh">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deformfield_2.displacementimage" name="displacement image" required="true" enabled="true" order="0">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deformfield_2.Templateimage" name="Template image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deformfield_2.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                        </module>
                        <module id="KL_MI_deform_3" name="KL_MI_deform" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="381" posY="1217" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deform_3.displacementimage" name="displacement image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deform_3.Templateimage" name="Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deform_3.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="3">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_deform_3.flag" name="flag" required="true" enabled="true" order="0" prefix="-deform" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="String" cardinality="0" />
                                </input>
                        </module>
                        <module id="InterpAveragepairsof3_2" name="Interp Average pairs of 3" package="Minimum Distance Template" version="1.0" description="This program will average together a series of files." icon="0" posX="123" posY="1090" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/Ana_Average">
                                <tag>averaging MRI</tag>
                                <metadata>
                                        <data key="__creationDateKey" value="Mon Sep 11 17:42:51 PDT 2006" />
                                </metadata>
                                <output id="InterpAveragepairsof3_2.HardMean" name="Hard  Mean" description="Name of the average output file(s)" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="InterpAveragepairsof3_2.InputstandardFiles" name="Input standard Files" description="Name of the files to be averaged" required="true" enabled="true" order="0" prefix="3" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="InterpAveragepairsof3_2.Inputinterpolatedfiles" name="Input interpolated files" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <executableAuthors>
                                        <author fullName="Roger P. Woods" email="" website="" />
                                </executableAuthors>
                        </module>
                </moduleGroup>
                <module id="KL_MI_Jacobian_1" name="KL_MI_Jacobian" package="Minimum Distance Template" version="1.0" description="computes Jacobian Determinant of the displacement fields. Note: the Jacobian of h(x) = x - u(x) is computed, where u(x) is the input." icon="0" posX="180" posY="958" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                        <metadata>
                                <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                        </metadata>
                        <input id="KL_MI_Jacobian_1.displacementimage" name="displacement image" required="true" enabled="true" order="1">
                                <format type="File" cardinality="3">
                                        <fileTypes>
                                                <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                        <need>hdr</need>
                                                </filetype>
                                        </fileTypes>
                                </format>
                        </input>
                        <input id="KL_MI_Jacobian_1.originalimage" name="original image" description="If this option is used, the field is interpolated on the grid of this image and the jacobain is computed on this new field. " required="false" enabled="true" order="2">
                                <format type="File" cardinality="1">
                                        <fileTypes>
                                                <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                        <need>hdr</need>
                                                </filetype>
                                        </fileTypes>
                                </format>
                        </input>
                        <output id="KL_MI_Jacobian_1.jacobian" name="jacobian" required="true" enabled="true" order="3">
                                <format type="File" cardinality="1">
                                        <fileTypes>
                                                <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                        <need>hdr</need>
                                                </filetype>
                                        </fileTypes>
                                </format>
                        </output>
                        <input id="KL_MI_Jacobian_1.flag" name="flag" required="true" enabled="true" order="0" prefix="-jacobian" prefixSpaced="true" prefixAllArgs="false">
                                <format type="String" cardinality="0" />
                        </input>
                </module>
                <moduleGroup id="KL_MI3-stepmultiscale_2" name="KL_MI 3-step multiscale" package="Inverse-consistent" icon="0" posX="68" posY="233" sourceCode="">
                        <metadata>
                                <data key="__creationDateKey" value="Mon Nov 02 16:17:11 PST 2009" />
                        </metadata>
                        <input link="KL_MI_register_4.Targetimage" id="KL_MI3-stepmultiscale_2.Targetimage" name="Target image" order="2" />
                        <input link="KL_MI_register_4.Templateimage" id="KL_MI3-stepmultiscale_2.Templateimage" name="Template image" order="3" />
                        <input link="KL_MI_deform_4.Templateimage" id="KL_MI3-stepmultiscale_2.Templateimage_2" name="Template image" order="5" />
                        <input link="KL_MI_deform_5.Templateimage" id="KL_MI3-stepmultiscale_2.Templateimage_3" name="Template image" order="6" />
                        <input link="KL_MI_register_5.Targetimage" id="KL_MI3-stepmultiscale_2.Targetimage_2" name="Target image" order="0" />
                        <input link="KL_MI_register_6.Targetimage" id="KL_MI3-stepmultiscale_2.Targetimage_3" name="Target image" order="1" />
                        <input link="KL_MI_deform_6.Templateimage" id="KL_MI3-stepmultiscale_2.Templateimage_4" name="Template image" order="7" />
                        <output link="KL_MI_deform_6.DeformedTemplateimage" id="KL_MI3-stepmultiscale_2.DeformedTemplateimage" name="Deformed Template image" order="8" />
                        <output description="Name of the average output file(s)" link="InterpAveragepairsof3_4.HardMean" id="KL_MI3-stepmultiscale_2.DeformationField" name="Deformation Field" order="4" />
                        <module id="KL_MI_register_4" name="KL_MI_register" package="Minimum Distance Template" version="1.0" icon="0" posX="17" posY="20" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_register_4.TimeSteplimit" name="TimeStep limit" description="timestep limit (default = 500)" required="false" enabled="true" order="0" prefix="-t" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>300</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.griddim1" name="grid dim 1" description="pixel number along x direction of the common grid.  If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="8" prefix="-i" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>32</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.griddim2" name="grid dim 2" description="pixel number along y direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="9" prefix="-j" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>32</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.griddim3" name="grid dim 3" description="pixel number along z direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="10" prefix="-k" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>32</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.x0-padding" name="x 0-padding" description="number of 0-padding pixels along x direction of the common grid (default=5)" required="false" enabled="false" order="11" prefix="-x" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.y0padding" name="y 0 padding" description="number of 0-padding pixels along y direction of the common grid (default=5)" required="false" enabled="false" order="12" prefix="-y" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.z0padding" name="z 0 padding" description="number of 0-padding pixels along z direction of the common grid (default=5)" required="false" enabled="false" order="13" prefix="-z" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.StandardDeviation" name="Standard Deviation" description="standard deviation of the gaussian kernel (default = 6.0)" required="false" enabled="true" order="14" prefix="-s" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>9.0</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.fidelityterm" name="fidelity term " description="fidelity term (1 = L2, 2 = Mutual Information, default = 2)&#xA;3 -- MI with inverse consistency, takes ~twice as long" required="false" enabled="true" order="15" prefix="-f" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>3</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.labmda" name="labmda" description="labmda -- weight of the KL distance term (default = 0.5)" required="false" enabled="false" order="16" prefix="-l" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>500</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.Energythreshold" name="Energy threshold" description="threshold total energy to terminate (default = 1e-4)" required="false" enabled="false" order="17" prefix="-e " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>1e-5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.Intermediateoutputpath" name="Intermediate output path" description="absolute path of directory where all intermediate information is printed&#xA;Nothing is printed if this option is not used" required="false" enabled="false" order="19" prefix="-d" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_4.displacementfieldimage" name="displacement field image " required="true" enabled="true" order="22">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_4.Targetimage" name="Target image" required="true" enabled="true" order="23">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_4.Templateimage" name="Template image" required="true" enabled="true" order="24">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_register_4.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="25">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_4.continuetomax" name="continue to max" description="this flag makes the algorithm run the maximum number of iterations regardless of energy" required="false" enabled="false" order="18" prefix="-c" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="0">
                                                <fileTypes>
                                                        <filetype name="File" extension="" description="Any type of data file" />
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_4.Gaussiansmoothing" name="Gaussian smoothing" description="gaussian smoothing of all data with specified standard deviation. If salt and pepper noise is prevalent in your images, MI will likely fail without this. Good std - 0.4" required="false" enabled="false" order="1" prefix="-g" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.5</value>
                                        </values>
                                </input>
                                <output id="KL_MI_register_4.Usedatlas" name="Used atlas" description="Analyze file containing the version of the atlas that is on the same grid as the native displacement fields. NOTE: if the regrid displacements option is used, this may no longer be on the same grid -- the field itself is put on the original atlas or template grid and padded with zeros if needed" required="false" enabled="false" order="6" prefix="-a " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_4.regriddisplacementsflag" name="regrid displacements flag" description="1 -- field is printed on the template(data) grid&#xA;2 -- field is printed on the atlas grid &#xA;&#xA;zero padding is used when needed" required="false" enabled="false" order="7" prefix="-r " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                        </format>
                                        <values>
                                                <value>1</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.triangleu" name="triangle u" description="Maximum displacement for determining variable time step. Default = 0.1" required="false" enabled="true" order="2" prefix="-u" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.MutualInformationgaussianstd" name="Mutual Information gaussian std" description="default - 6.0" required="false" enabled="false" order="5" prefix="-m" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>4.5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.MedianFilter" name="Median Filter" description="Preprocess with 3x3x3 median filter. &#xA;1. data (template)&#xA;2. atlas (target)&#xA;3. both" required="false" enabled="false" order="3" prefix="-p" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>2</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.MIbinsize" name="MI bin size" description="Power of two for the number of MI bins. Default = 7." required="false" enabled="false" order="4" prefix="-b " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>4</enumeration>
                                                <enumeration>5</enumeration>
                                                <enumeration>6</enumeration>
                                                <enumeration>7</enumeration>
                                                <enumeration>8</enumeration>
                                        </format>
                                        <values>
                                                <value>8</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_4.JacobianOutputPath" name="Jacobian Output Path" description="This is the directory where the forward Jacobian is printed every 100 iterations. The option will be ignored if Intermediate Output option is used, as in that case the Jacobian is printed every 50 iterations. " required="false" enabled="false" order="20" prefix="-D" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_4.FinalJacobian" name="Final Jacobian" description="final forward Jacobian" required="false" enabled="false" order="21" prefix="-J" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                        </module>
                        <module id="KL_MI_deform_4" name="KL_MI_deform" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="250" posY="163" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deform_4.displacementimage" name="displacement image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deform_4.Templateimage" name="Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deform_4.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="3">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_deform_4.flag" name="flag" required="true" enabled="true" order="0" prefix="-deform" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="String" cardinality="0" />
                                </input>
                        </module>
                        <module id="InterpAveragepairsof3_3" name="Interp Average pairs of 3" package="Minimum Distance Template" version="1.0" description="This program will average together a series of files." icon="0" posX="148" posY="562" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/Ana_Average">
                                <tag>averaging MRI</tag>
                                <metadata>
                                        <data key="__creationDateKey" value="Mon Sep 11 17:42:51 PDT 2006" />
                                </metadata>
                                <output id="InterpAveragepairsof3_3.HardMean" name="Hard  Mean" description="Name of the average output file(s)" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="InterpAveragepairsof3_3.InputstandardFiles" name="Input standard Files" description="Name of the files to be averaged" required="true" enabled="true" order="0" prefix="3" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="InterpAveragepairsof3_3.Inputinterpolatedfiles" name="Input interpolated files" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <executableAuthors>
                                        <author fullName="Roger P. Woods" email="" website="" />
                                </executableAuthors>
                        </module>
                        <module id="KL_MI_deform_5" name="KL_MI_deform" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="362" posY="695" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deform_5.displacementimage" name="displacement image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deform_5.Templateimage" name="Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deform_5.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="3">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_deform_5.flag" name="flag" required="true" enabled="true" order="0" prefix="-deform" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="String" cardinality="0" />
                                </input>
                        </module>
                        <module id="KL_MI_deformfield_3" name="KL_MI_deform field" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="254" posY="454" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/deform_field.sh">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deformfield_3.displacementimage" name="displacement image" required="true" enabled="true" order="0">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deformfield_3.Templateimage" name="Template image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deformfield_3.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                        </module>
                        <module id="KL_MI_register_5" name="KL_MI_register" package="Minimum Distance Template" version="1.0" icon="0" posX="2" posY="349" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_register_5.TimeSteplimit" name="TimeStep limit" description="timestep limit (default = 500)" required="false" enabled="true" order="0" prefix="-t" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>300</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.griddim1" name="grid dim 1" description="pixel number along x direction of the common grid.  If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="8" prefix="-i" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>64</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.griddim2" name="grid dim 2" description="pixel number along y direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="9" prefix="-j" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>64</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.griddim3" name="grid dim 3" description="pixel number along z direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="10" prefix="-k" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>64</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.x0-padding" name="x 0-padding" description="number of 0-padding pixels along x direction of the common grid (default=5)" required="false" enabled="false" order="11" prefix="-x" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.y0padding" name="y 0 padding" description="number of 0-padding pixels along y direction of the common grid (default=5)" required="false" enabled="false" order="12" prefix="-y" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.z0padding" name="z 0 padding" description="number of 0-padding pixels along z direction of the common grid (default=5)" required="false" enabled="false" order="13" prefix="-z" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.StandardDeviation" name="Standard Deviation" description="standard deviation of the gaussian kernel (default = 6.0)" required="false" enabled="true" order="14" prefix="-s" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>9.0</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.fidelityterm" name="fidelity term " description="fidelity term (1 = L2, 2 = Mutual Information, default = 2)&#xA;3 -- MI with inverse consistency, takes ~twice as long" required="false" enabled="true" order="15" prefix="-f" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>3</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.labmda" name="labmda" description="labmda -- weight of the KL distance term (default = 0.5)" required="false" enabled="false" order="16" prefix="-l" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>500</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.Energythreshold" name="Energy threshold" description="threshold total energy to terminate (default = 1e-4)" required="false" enabled="false" order="17" prefix="-e " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>1e-5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.Intermediateoutputpath" name="Intermediate output path" description="absolute path of directory where all intermediate information is printed&#xA;Nothing is printed if this option is not used" required="false" enabled="false" order="19" prefix="-d" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_5.displacementfieldimage" name="displacement field image " required="true" enabled="true" order="22">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_5.Targetimage" name="Target image" required="true" enabled="true" order="23">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_5.Templateimage" name="Template image" required="true" enabled="true" order="24">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_register_5.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="25">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_5.continuetomax" name="continue to max" description="this flag makes the algorithm run the maximum number of iterations regardless of energy" required="false" enabled="false" order="18" prefix="-c" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="0">
                                                <fileTypes>
                                                        <filetype name="File" extension="" description="Any type of data file" />
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_5.Gaussiansmoothing" name="Gaussian smoothing" description="gaussian smoothing of all data with specified standard deviation. If salt and pepper noise is prevalent in your images, MI will likely fail without this. Good std - 0.4" required="false" enabled="false" order="1" prefix="-g" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.5</value>
                                        </values>
                                </input>
                                <output id="KL_MI_register_5.Usedatlas" name="Used atlas" description="Analyze file containing the version of the atlas that is on the same grid as the native displacement fields. NOTE: if the regrid displacements option is used, this may no longer be on the same grid -- the field itself is put on the original atlas or template grid and padded with zeros if needed" required="false" enabled="false" order="6" prefix="-a " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_5.regriddisplacementsflag" name="regrid displacements flag" description="1 -- field is printed on the template(data) grid&#xA;2 -- field is printed on the atlas grid &#xA;&#xA;zero padding is used when needed" required="false" enabled="false" order="7" prefix="-r " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                        </format>
                                        <values>
                                                <value>1</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.triangleu" name="triangle u" description="Maximum displacement for determining variable time step. Default = 0.1" required="false" enabled="true" order="2" prefix="-u" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.MutualInformationgaussianstd" name="Mutual Information gaussian std" description="default - 6.0" required="false" enabled="false" order="5" prefix="-m" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>4.5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.MedianFilter" name="Median Filter" description="Preprocess with 3x3x3 median filter. &#xA;1. data (template)&#xA;2. atlas (target)&#xA;3. both" required="false" enabled="false" order="3" prefix="-p" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>2</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.MIbinsize" name="MI bin size" description="Power of two for the number of MI bins. Default = 7." required="false" enabled="false" order="4" prefix="-b " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>4</enumeration>
                                                <enumeration>5</enumeration>
                                                <enumeration>6</enumeration>
                                                <enumeration>7</enumeration>
                                                <enumeration>8</enumeration>
                                        </format>
                                        <values>
                                                <value>8</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_5.JacobianOutputPath" name="Jacobian Output Path" description="This is the directory where the forward Jacobian is printed every 100 iterations. The option will be ignored if Intermediate Output option is used, as in that case the Jacobian is printed every 50 iterations. " required="false" enabled="false" order="20" prefix="-D" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_5.FinalJacobian" name="Final Jacobian" description="final forward Jacobian" required="false" enabled="false" order="21" prefix="-J" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                        </module>
                        <module id="KL_MI_register_6" name="KL_MI_register" package="Minimum Distance Template" version="1.0" icon="0" posX="12" posY="843" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_register_6.TimeSteplimit" name="TimeStep limit" description="timestep limit (default = 500)" required="false" enabled="true" order="0" prefix="-t" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>300</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.griddim1" name="grid dim 1" description="pixel number along x direction of the common grid.  If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="8" prefix="-i" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>128</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.griddim2" name="grid dim 2" description="pixel number along y direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="9" prefix="-j" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>128</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.griddim3" name="grid dim 3" description="pixel number along z direction of the common grid. If the template and target have the same grid, the default is the same as the input." required="false" enabled="true" order="10" prefix="-k" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>128</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.x0-padding" name="x 0-padding" description="number of 0-padding pixels along x direction of the common grid (default=5)" required="false" enabled="false" order="11" prefix="-x" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.y0padding" name="y 0 padding" description="number of 0-padding pixels along y direction of the common grid (default=5)" required="false" enabled="false" order="12" prefix="-y" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.z0padding" name="z 0 padding" description="number of 0-padding pixels along z direction of the common grid (default=5)" required="false" enabled="false" order="13" prefix="-z" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>18</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.StandardDeviation" name="Standard Deviation" description="standard deviation of the gaussian kernel (default = 6.0)" required="false" enabled="true" order="14" prefix="-s" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>7.0</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.fidelityterm" name="fidelity term " description="fidelity term (1 = L2, 2 = Mutual Information, default = 2)&#xA;3 -- MI with inverse consistency, takes ~twice as long" required="false" enabled="true" order="15" prefix="-f" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>3</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.labmda" name="labmda" description="labmda -- weight of the KL distance term (default = 0.5)" required="false" enabled="false" order="16" prefix="-l" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>500</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.Energythreshold" name="Energy threshold" description="threshold total energy to terminate (default = 1e-4)" required="false" enabled="false" order="17" prefix="-e " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>1e-5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.Intermediateoutputpath" name="Intermediate output path" description="absolute path of directory where all intermediate information is printed&#xA;Nothing is printed if this option is not used" required="false" enabled="false" order="19" prefix="-d" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_6.displacementfieldimage" name="displacement field image " required="true" enabled="true" order="22">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_6.Targetimage" name="Target image" required="true" enabled="true" order="23">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_6.Templateimage" name="Template image" required="true" enabled="true" order="24">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_register_6.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="25">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_6.continuetomax" name="continue to max" description="this flag makes the algorithm run the maximum number of iterations regardless of energy" required="false" enabled="false" order="18" prefix="-c" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="0">
                                                <fileTypes>
                                                        <filetype name="File" extension="" description="Any type of data file" />
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_register_6.Gaussiansmoothing" name="Gaussian smoothing" description="gaussian smoothing of all data with specified standard deviation. If salt and pepper noise is prevalent in your images, MI will likely fail without this. Good std - 0.4" required="false" enabled="false" order="1" prefix="-g" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.5</value>
                                        </values>
                                </input>
                                <output id="KL_MI_register_6.Usedatlas" name="Used atlas" description="Analyze file containing the version of the atlas that is on the same grid as the native displacement fields. NOTE: if the regrid displacements option is used, this may no longer be on the same grid -- the field itself is put on the original atlas or template grid and padded with zeros if needed" required="false" enabled="false" order="6" prefix="-a " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_register_6.regriddisplacementsflag" name="regrid displacements flag" description="1 -- field is printed on the template(data) grid&#xA;2 -- field is printed on the atlas grid &#xA;&#xA;zero padding is used when needed" required="false" enabled="false" order="7" prefix="-r " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                        </format>
                                        <values>
                                                <value>1</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.triangleu" name="triangle u" description="Maximum displacement for determining variable time step. Default = 0.1" required="false" enabled="false" order="2" prefix="-u" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>0.12</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.MutualInformationgaussianstd" name="Mutual Information gaussian std" description="default - 6.0" required="false" enabled="false" order="5" prefix="-m" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>4.5</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.MedianFilter" name="Median Filter" description="Preprocess with 3x3x3 median filter. &#xA;1. data (template)&#xA;2. atlas (target)&#xA;3. both" required="false" enabled="false" order="3" prefix="-p" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>1</enumeration>
                                                <enumeration>2</enumeration>
                                                <enumeration>3</enumeration>
                                        </format>
                                        <values>
                                                <value>2</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.MIbinsize" name="MI bin size" description="Power of two for the number of MI bins. Default = 7." required="false" enabled="false" order="4" prefix="-b " prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Enumerated" cardinality="1">
                                                <enumeration>4</enumeration>
                                                <enumeration>5</enumeration>
                                                <enumeration>6</enumeration>
                                                <enumeration>7</enumeration>
                                                <enumeration>8</enumeration>
                                        </format>
                                        <values>
                                                <value>8</value>
                                        </values>
                                </input>
                                <input id="KL_MI_register_6.JacobianOutputPath" name="Jacobian Output Path" description="This is the directory where the forward Jacobian is printed every 100 iterations. The option will be ignored if Intermediate Output option is used, as in that case the Jacobian is printed every 50 iterations. " required="false" enabled="false" order="20" prefix="-D" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="Directory" cardinality="1" />
                                </input>
                                <output id="KL_MI_register_6.FinalJacobian" name="Final Jacobian" description="final forward Jacobian" required="false" enabled="false" order="21" prefix="-J" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                        </module>
                        <module id="KL_MI_deformfield_4" name="KL_MI_deform field" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="336" posY="947" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/deform_field.sh">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deformfield_4.displacementimage" name="displacement image" required="true" enabled="true" order="0">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deformfield_4.Templateimage" name="Template image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deformfield_4.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                        </module>
                        <module id="KL_MI_deform_6" name="KL_MI_deform" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="383" posY="1215" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deform_6.displacementimage" name="displacement image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deform_6.Templateimage" name="Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deform_6.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="3">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_deform_6.flag" name="flag" required="true" enabled="true" order="0" prefix="-deform" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="String" cardinality="0" />
                                </input>
                        </module>
                        <module id="InterpAveragepairsof3_4" name="Interp Average pairs of 3" package="Minimum Distance Template" version="1.0" description="This program will average together a series of files." icon="0" posX="123" posY="1090" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/Ana_Average">
                                <tag>averaging MRI</tag>
                                <metadata>
                                        <data key="__creationDateKey" value="Mon Sep 11 17:42:51 PDT 2006" />
                                </metadata>
                                <output id="InterpAveragepairsof3_4.HardMean" name="Hard  Mean" description="Name of the average output file(s)" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="InterpAveragepairsof3_4.InputstandardFiles" name="Input standard Files" description="Name of the files to be averaged" required="true" enabled="true" order="0" prefix="3" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="InterpAveragepairsof3_4.Inputinterpolatedfiles" name="Input interpolated files" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <executableAuthors>
                                        <author fullName="Roger P. Woods" email="" website="" />
                                </executableAuthors>
                        </module>
                </moduleGroup>
                <module id="HardMean_1" name="Hard Mean" package="Minimum Distance Template" version="1.0" description="This program will average together a series of files." icon="0" posX="79" posY="710" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/Ana_Average">
                        <tag>averaging MRI</tag>
                        <metadata>
                                <data key="__creationDateKey" value="Mon Sep 11 17:42:51 PDT 2006" />
                        </metadata>
                        <output id="HardMean_1.HardMean" name="Hard  Mean" description="Name of the average output file(s)" required="true" enabled="true" order="2">
                                <format type="File" cardinality="1">
                                        <fileTypes>
                                                <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                        <need>hdr</need>
                                                </filetype>
                                        </fileTypes>
                                </format>
                        </output>
                        <input id="HardMean_1.multiple" name="multiple" description="multiplicity of files to average (will correspond to number of outputs)" required="true" enabled="true" order="0">
                                <format type="Number" cardinality="1" />
                                <values>
                                        <value>1</value>
                                </values>
                        </input>
                        <input id="HardMean_1.InputFiles" name="Input Files" description="Name of the files to be averaged" required="true" enabled="true" order="1">
                                <format type="File" cardinality="-1">
                                        <fileTypes>
                                                <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                        <need>hdr</need>
                                                </filetype>
                                        </fileTypes>
                                </format>
                        </input>
                        <executableAuthors>
                                <author fullName="Roger P. Woods" email="" website="" />
                        </executableAuthors>
                </module>
                <moduleGroup id="CompositeGeometricAveraging_1" name="Composite Geometric Averaging" icon="0" posX="125" posY="498" sourceCode="">
                        <metadata>
                                <data key="__creationDateKey" value="Wed Nov 04 11:41:43 PST 2009" />
                        </metadata>
                        <input link="KL_MI_deform_7.Templateimage" id="CompositeGeometricAveraging_1.Originaltarget" name="Original target" order="2" />
                        <output link="KL_MI_deform_7.DeformedTemplateimage" id="CompositeGeometricAveraging_1.currenttarget" name="current target" order="3" />
                        <input description="Name of the files to be averaged" link="HardMean_2.InputFiles" id="CompositeGeometricAveraging_1.Newfileds" name="New fileds" order="0" />
                        <input link="composevectorfields_1.Field1" id="CompositeGeometricAveraging_1.previousinversefield" name="previous inverse field" order="1" />
                        <module id="KL_MI_invert_1" name="KL_MI_invert" package="Minimum Distance Template" version="1.0" description="This module compute the geometric inverse of a vector field" icon="0" posX="234" posY="205" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_invert_1.displacementimage" name="displacement image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_invert_1.inversefieldimage" name="inverse field image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_invert_1.flag" name="flag" required="true" enabled="true" order="0" prefix="-invert" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="String" cardinality="0" />
                                </input>
                        </module>
                        <module id="KL_MI_deform_7" name="KL_MI_deform" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="428" posY="618" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/KL_Registration">
                                <metadata>
                                        <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                </metadata>
                                <input id="KL_MI_deform_7.displacementimage" name="displacement image" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <input id="KL_MI_deform_7.Templateimage" name="Template image" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <output id="KL_MI_deform_7.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="3">
                                        <format type="File" cardinality="1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="KL_MI_deform_7.flag" name="flag" required="true" enabled="true" order="0" prefix="-deform" prefixSpaced="true" prefixAllArgs="false">
                                        <format type="String" cardinality="0" />
                                </input>
                        </module>
                        <module id="HardMean_2" name="Hard Mean" package="Minimum Distance Template" version="1.0" description="This program will average together a series of files." icon="0" posX="260" posY="21" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/Ana_Average">
                                <tag>averaging MRI</tag>
                                <metadata>
                                        <data key="__creationDateKey" value="Mon Sep 11 17:42:51 PDT 2006" />
                                </metadata>
                                <output id="HardMean_2.HardMean" name="Hard  Mean" description="Name of the average output file(s)" required="true" enabled="true" order="2">
                                        <format type="File" cardinality="3">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </output>
                                <input id="HardMean_2.multiple" name="multiple" description="multiplicity of files to average (will correspond to number of outputs)" required="true" enabled="true" order="0">
                                        <format type="Number" cardinality="1" />
                                        <values>
                                                <value>3</value>
                                        </values>
                                </input>
                                <input id="HardMean_2.InputFiles" name="Input Files" description="Name of the files to be averaged" required="true" enabled="true" order="1">
                                        <format type="File" cardinality="-1">
                                                <fileTypes>
                                                        <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                <need>hdr</need>
                                                        </filetype>
                                                </fileTypes>
                                        </format>
                                </input>
                                <executableAuthors>
                                        <author fullName="Roger P. Woods" email="" website="" />
                                </executableAuthors>
                        </module>
                        <moduleGroup id="composevectorfields_1" name="compose vector fields" icon="0" posX="342" posY="438" sourceCode="">
                                <metadata>
                                        <data key="__creationDateKey" value="Wed Nov 04 11:31:49 PST 2009" />
                                </metadata>
                                <output description="Name of the average output file(s)" link="InterpAveragepairsof3_5.HardMean" id="composevectorfields_1.HardMean" name="Hard  Mean" order="0" />
                                <input description="Name of the files to be averaged" link="InterpAveragepairsof3_5.InputstandardFiles" id="composevectorfields_1.Filed2" name="Filed 2" order="1" />
                                <input link="KL_MI_deformfield_5.displacementimage" id="composevectorfields_1.Field2" name="Field 2" order="2" />
                                <input link="KL_MI_deformfield_5.Templateimage" id="composevectorfields_1.Field1" name="Field 1" order="3" />
                                <module id="InterpAveragepairsof3_5" name="Interp Average pairs of 3" package="Minimum Distance Template" version="1.0" description="This program will average together a series of files." icon="0" posX="165" posY="312" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/Ana_Average">
                                        <tag>averaging MRI</tag>
                                        <metadata>
                                                <data key="__creationDateKey" value="Mon Sep 11 17:42:51 PDT 2006" />
                                        </metadata>
                                        <output id="InterpAveragepairsof3_5.HardMean" name="Hard  Mean" description="Name of the average output file(s)" required="true" enabled="true" order="2">
                                                <format type="File" cardinality="3">
                                                        <fileTypes>
                                                                <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                        <need>hdr</need>
                                                                </filetype>
                                                        </fileTypes>
                                                </format>
                                        </output>
                                        <input id="InterpAveragepairsof3_5.InputstandardFiles" name="Input standard Files" description="Name of the files to be averaged" required="true" enabled="true" order="0" prefix="3" prefixSpaced="true" prefixAllArgs="false">
                                                <format type="File" cardinality="3">
                                                        <fileTypes>
                                                                <filetype name="Analyze Image" extension="img" description="Analyze Image file">
                                                                        <need>hdr</need>
                                                                </filetype>
                                                        </fileTypes>
                                                </format>
                                        </input>
                                        <input id="InterpAveragepairsof3_5.Inputinterpolatedfiles" name="Input interpolated files" required="true" enabled="true" order="1">
                                                <format type="File" cardinality="3">
                                                        <fileTypes>
                                                                <filetype name="Analyze Image" extension="img" description="Analyze Image">
                                                                        <need>hdr</need>
                                                                </filetype>
                                                        </fileTypes>
                                                </format>
                                        </input>
                                        <executableAuthors>
                                                <author fullName="Roger P. Woods" email="" website="" />
                                        </executableAuthors>
                                </module>
                                <module id="KL_MI_deformfield_5" name="KL_MI_deform field" package="Minimum Distance Template" version="1.0" description="This is useful if one sets custom pixel dimensions of common grid in the register module (and/or the atlas and data are on different grids), but then wishes to view the results of the registration (deformed template) on the original grid. That is precisely what this does." icon="0" posX="162" posY="156" sourceCode="" location="pipeline://cranium.loni.ucla.edu/bgutman/deform_field.sh">
                                        <metadata>
                                                <data key="__creationDateKey" value="Sun Nov 18 20:41:00 PST 2007" />
                                        </metadata>
                                        <input id="KL_MI_deformfield_5.displacementimage" name="displacement image" required="true" enabled="true" order="0">
                                                <format type="File" cardinality="3">
                                                        <fileTypes>
                                                                <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                        <need>hdr</need>
                                                                </filetype>
                                                        </fileTypes>
                                                </format>
                                        </input>
                                        <input id="KL_MI_deformfield_5.Templateimage" name="Template image" required="true" enabled="true" order="1">
                                                <format type="File" cardinality="3">
                                                        <fileTypes>
                                                                <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                        <need>hdr</need>
                                                                </filetype>
                                                        </fileTypes>
                                                </format>
                                        </input>
                                        <output id="KL_MI_deformfield_5.DeformedTemplateimage" name="Deformed Template image" required="true" enabled="true" order="2">
                                                <format type="File" cardinality="3">
                                                        <fileTypes>
                                                                <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                                        <need>hdr</need>
                                                                </filetype>
                                                        </fileTypes>
                                                </format>
                                        </output>
                                </module>
                        </moduleGroup>
                </moduleGroup>
                <dataModule id="HardMean_3" name="Hard Mean" package="LONI" version="1.0" description="Choose a starting Template (One of the Subjects)" posX="96" posY="0" sourceCode="" type="File" source="true" loopIndex="false">
                        <tag />
                        <metadata>
                                <data key="__creationDateKey" value="Fri Apr 10 15:46:45 PDT 2009" />
                        </metadata>
                        <output id="HardMean_3.Output" name="Output" description="Choose a starting Template (One of the Subjects)" required="true" enabled="true" order="-1">
                                <format type="File" cardinality="1">
                                        <fileTypes>
                                                <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                        <need>hdr</need>
                                                </filetype>
                                        </fileTypes>
                                </format>
                        </output>
                        <fileTypes>
                                <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                        <need>hdr</need>
                                </filetype>
                        </fileTypes>
                        <values>
                                <value>pipeline://localhost//home/brainimaging/RECONCILE/HardMean_1.HardMean-1.img</value>
                        </values>
                </dataModule>
                <dataModule id="ReslicedVolumes_1" name="Resliced Volumes" package="LONI" version="1.0" posX="473" posY="4" sourceCode="" type="File" source="true" loopIndex="false">
                        <tag />
                        <metadata>
                                <data key="__creationDateKey" value="Fri Apr 10 15:46:32 PDT 2009" />
                        </metadata>
                        <output id="ReslicedVolumes_1.Output" name="Output" required="true" enabled="true" order="-1">
                                <format type="File" cardinality="1">
                                        <fileTypes>
                                                <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                                        <need>hdr</need>
                                                </filetype>
                                        </fileTypes>
                                </format>
                        </output>
                        <fileTypes>
                                <filetype name="Analyze Image 3D" extension="img" description="Analyze Image 3D file">
                                        <need>hdr</need>
                                </filetype>
                        </fileTypes>
                        <values>
                                <value>pipeline://localhost//home/brainimaging/RECONCILE/Reslice_1.OutputReslicedVolume-1.img</value>
                                <value>pipeline://localhost//home/brainimaging/RECONCILE/Reslice_1.OutputReslicedVolume-2.img</value>
                                <value>pipeline://localhost//home/brainimaging/RECONCILE/Reslice_1.OutputReslicedVolume-3.img</value>
                                <value>pipeline://localhost//home/brainimaging/RECONCILE/Reslice_1.OutputReslicedVolume-4.img</value>
                                <value>pipeline://localhost//home/brainimaging/RECONCILE/Reslice_1.OutputReslicedVolume-5.img</value>
                                <value>pipeline://localhost//home/brainimaging/RECONCILE/Reslice_1.OutputReslicedVolume-6.img</value>
                                <value>pipeline://localhost//home/brainimaging/RECONCILE/Reslice_1.OutputReslicedVolume-7.img</value>
                                <value>pipeline://localhost//home/brainimaging/RECONCILE/Reslice_1.OutputReslicedVolume-8.img</value>
                        </values>
                </dataModule>
                <dataModule id="DirectoryDump_1" name="Directory Dump" posX="270" posY="1216" sourceCode="" type="File" source="false" loopIndex="false" dirDump="true">
                        <tag />
                        <metadata>
                                <data key="__creationDateKey" value="Tue Apr 02 13:17:04 EDT 2013" />
                        </metadata>
                        <input id="DirectoryDump_1.Input" name="Input" required="true" enabled="true" order="-1">
                                <format type="File" cardinality="1">
                                        <fileTypes>
                                                <filetype name="File" extension="" description="Any type of data file" />
                                        </fileTypes>
                                </format>
                        </input>
                        <fileTypes>
                                <filetype name="File" extension="" description="Any type of data file" />
                        </fileTypes>
                        <values>
                                <value>pipeline://localhost//home/brainimaging/SYMMETRIC</value>
                        </values>
                </dataModule>
                <annotations visible="true">
                        <annotation width="200" height="22" posX="132" posY="71" background="255,255,153,255" foreground="255,0,51,255" expanded="true" type="text" name="9-p Space/Atlas">
                                <styles>
                                        <style name="9-p Space/Atlas$0" fontSize="12" />
                                </styles>
                        </annotation>
                        <annotation width="200" height="37" posX="196" posY="439" background="255,255,153,255" foreground="255,0,51,255" expanded="true" type="text" name="Geometric reslicing of&#xD;&#xA;displacement  fields">
                                <styles>
                                        <style name="Geometric reslicing of&#xD;&#xA;displacement  fields$0" fontSize="12" />
                                </styles>
                        </annotation>
                        <annotation width="200" height="37" posX="249" posY="193" background="255,255,153,255" foreground="255,0,51,255" expanded="true" type="text" name="Non-linear registration&#xD;&#xA;of data to 9-p space">
                                <styles>
                                        <style name="Non-linear registration&#xD;&#xA;of data to 9-p space$0" fontSize="12" />
                                </styles>
                        </annotation>
                        <annotation width="200" height="37" posX="469" posY="777" background="255,255,153,255" foreground="255,0,51,255" expanded="true" type="text" name="Non-linear registration&#xD;&#xD;&#xD;&#xA;of data to MDT">
                                <styles>
                                        <style name="Non-linear registration&#xD;&#xD;&#xD;&#xA;of data to MDT$0" fontSize="12" />
                                </styles>
                        </annotation>
                        <annotation width="574" height="350" posX="601" posY="97" background="102,102,204,51" foreground="0,0,0,255" expanded="true" type="text" name="Steps:&#xA;&#xA;1. Double click Hard Mean. Set input to the Hard Mean image produced from the AIRreconcile_v2.pipe&#xA;&#xA;2. Double click Resliced Volumes. Set input to '.img' resliced volumes for each subject produced from the AIRreconcile_v2.pipe&#xA;&#xA;3. Double click Directory Dump. Set directory path to output pipeline data to. Note: If this directory does not exist the pipeline will create it for you&#xA;&#xA;Press Play&#xA;&#xA;OUTPUT:&#xA;-Hard Mean: This is the atlas image derived from the original subject's T1 anatomical images&#xA;-Jacobian 'img/hdr' format images for each subject&#xA;-Deformed 'img/hdr' template images for each subject">
                                <styles>
                                        <style name="Steps:&#xA;&#xA;1. Double click Hard Mean. Set input to the Hard Mean image produced from the AIRreconcile_v2.pipe&#xA;&#xA;2. Double click Resliced Volumes. Set input to '.img' resliced volumes for each subject produced from the AIRreconcile_v2.pipe&#xA;&#xA;3. Double click Directory Dump. Set directory path to output pipeline data to. Note: If this directory does not exist the pipeline will create it for you&#xA;$0" fontSize="15" />
                                        <style name="&#xA;Press Play&#xA;&#xA;OUTPUT:&#xA;$390" fontSize="15" isBold="true" />
                                        <style name="-Hard Mean: This is the atlas image derived from the original subject's T1 anatomical images&#xA;-Jacobian 'img/hdr' format images for each subject&#xA;-Deformed 'img/hdr' template images for each subject$411" fontSize="15" />
                                </styles>
                        </annotation>
                </annotations>
        </moduleGroup>
</pipeline>

